"use strict";var shop_car=function(){var i=$(".add_shop"),o=localStorage.shopList||"[]";return o=JSON.parse(o),{init:function(){this.events(),this.insertData(o)},insertData:function(t){for(var n="",o=0;o<t.length;o++){n+='<tr id="'.concat(t[o].id,'">\n                \t\t\t<td>').concat(t[o].img,"</td>\n                            <td>").concat(t[o].name,"</td>\n                            <td>").concat(t[o].price,"</td>\n                            <td><input type='number' value='").concat(t[o].count,"' /></td>\n                            <td><button class='btn btn-danger del-btn'>删除</button></td>\n                            </tr>")}i.html(n)},addShop:function(t){var n=!0,o=localStorage.shopList||"[]";o=JSON.parse(o);for(var i=0;i<o.length;i++)if(t.id==o[i].id){n=!1,o[i].count+=t.count;break}n&&o.push(t),localStorage.shopList=JSON.stringify(o),console.log(localStorage.shopList)},events:function(){i.on("change","input",function(){var t=$(this).closest("tr"),n=$(this).val();o[t.index()].count=n,localStorage.shopList=JSON.stringify(o)}),i.on("click",".del-btn",function(){var t=$(this).closest("tr");o.splice(t.index(),1),localStorage.shopList=JSON.stringify(o),t.remove()})}}}();shop_car.init();